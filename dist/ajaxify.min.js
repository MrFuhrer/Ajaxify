"use strict";var functions={};"undefined"!=typeof jQuery?functions.serialize=function(a){return jQuery(a).serialize()}:functions.serialize=function(a){var e,b=new FormData(a),c=b.entries(),d=[];for(e=c.next();!e.done;)"string"==typeof e.value[1]&&d.push(e.value[0]+"="+e.value[1]),e=c.next();return d.join("&")},window.ajaxify=function(a,b){a.onsubmit=function(c){if(c.stopPropagation(),c.preventDefault(),!b||!b.validation||b.validation(a)){var d,e;d=a.hasAttribute("method")?a.getAttribute("method"):"GET",e=a.hasAttribute("action")?a.getAttribute("action"):"";var f=null;"post"!=d.toLowerCase()&&"put"!=d.toLowerCase()?e+=e.indexOf("?")!=-1&&e.indexOf("=")!=-1?"&"+functions.serialize(a):"?"+functions.serialize(a):f=new FormData(a);var g=new XMLHttpRequest;g.onreadystatechange=function(){if(4==g.readyState){var a;if(g.getResponseHeader("Content-Type")&&g.getResponseHeader("Content-Type").indexOf("application/json")!=-1)try{a=JSON.parse(g.responseText)}catch(b){a=g.responseText}else a=g.responseText;b&&b.callback&&b.callback(a,g.status)}},g.open(d.toUpperCase(),e,!0),g.send(f)}}},"undefined"!=typeof jQuery&&(jQuery.fn.ajaxify=function(){var a={};arguments.length&&("object"==typeof arguments[0]?a=arguments[0]:(a.callback=arguments[0],arguments[1]&&(a.validation=arguments[1]))),this.each(function(b,c){ajaxify(c,a)})});