"use strict";var functions={};functions.serialize="undefined"!=typeof jQuery?function(e){return jQuery(e).serialize()}:function(e){var t,n=new FormData(e),a=n.entries(),i=[];for(t=a.next();!t.done;)"string"==typeof t.value[1]&&i.push(t.value[0]+"="+t.value[1]),t=a.next();return i.join("&")},window.ajaxify=function(e,t){e.addEventListener("submit",function(n){if(n.stopPropagation(),n.preventDefault(),!t||!t.validation||t.validation(e)){var a,i,r;a=e.hasAttribute("method")?e.getAttribute("method"):"GET",i=e.hasAttribute("action")?e.getAttribute("action"):"",r=e.hasAttribute("enctype")?e.getAttribute("enctype"):"application/x-www-form-urlencoded";var o=null;"post"!=a.toLowerCase()&&"put"!=a.toLowerCase()?i+=-1!=i.indexOf("?")&&-1!=i.indexOf("=")?"&"+functions.serialize(e):"?"+functions.serialize(e):o="multipart/form-data"==r?new FormData(e):functions.serialize(e);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState){var e;if(s.getResponseHeader("Content-Type")&&-1!=s.getResponseHeader("Content-Type").indexOf("application/json"))try{e=JSON.parse(s.responseText)}catch(n){e=s.responseText}else e=s.responseText;t&&t.callback&&t.callback(e,s.status)}},s.open(a.toUpperCase(),i,!0),s.setRequestHeader("Content-Type",r),s.send(o)}})},"undefined"!=typeof jQuery&&(jQuery.fn.ajaxify=function(){var e={};arguments.length&&("object"==typeof arguments[0]?e=arguments[0]:(e.callback=arguments[0],arguments[1]&&(e.validation=arguments[1]))),this.each(function(t,n){ajaxify(n,e)})});